<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>
  
     Managing 30,000 Logging Events per Day with Splunk | 
    Engineering Health
  
</title><meta name="description" content="a blog by engineers, for engineers"><meta name="author" content="Mike Hemesath, Rima Poddar">

<link rel="icon" href="/favicon.png">


    
        
            <link rel="stylesheet" href="/dist/main.2b1315bd4c5d4f5eb804.min.css">
        
    




<link rel="canonical" href="https://engineering.cerner.com/blog/managing-30000-logging-events-per-day-with-splunk/"><script src="/js/jquery-3.5.1.min.js"></script><meta property="og:title" content="Managing 30,000 Logging Events per Day with Splunk" />
<meta property="og:description" content="Our team works on a patient facing web application with a thousand live clients with 2,315,000&#43; users. On an average, the high traffic results into more than 40,000 visits and 300,000 page views daily generating about 30,000 logging events. A considerable portion of these events are of information and warning level in order to aid proactive monitoring or identify potential issues due to clients‚Äô misconfiguration.
Before Splunk To handle this large volume of logging, our team created a rotational support role to manually monitor the logs at regular intervals daily." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://engineering.cerner.com/blog/managing-30000-logging-events-per-day-with-splunk/" /><meta property="og:image" content="https://engineering.cerner.com/images/alan-grace.png"/><meta property="article:section" content="post" />
<meta property="article:published_time" content="2015-01-29T00:00:00+00:00" />
<meta property="article:modified_time" content="2015-01-29T00:00:00+00:00" /><meta property="og:site_name" content="Cerner Engineering" />

<meta itemprop="name" content="Managing 30,000 Logging Events per Day with Splunk">
<meta itemprop="description" content="Our team works on a patient facing web application with a thousand live clients with 2,315,000&#43; users. On an average, the high traffic results into more than 40,000 visits and 300,000 page views daily generating about 30,000 logging events. A considerable portion of these events are of information and warning level in order to aid proactive monitoring or identify potential issues due to clients‚Äô misconfiguration.
Before Splunk To handle this large volume of logging, our team created a rotational support role to manually monitor the logs at regular intervals daily."><meta itemprop="datePublished" content="2015-01-29T00:00:00+00:00" />
<meta itemprop="dateModified" content="2015-01-29T00:00:00+00:00" />
<meta itemprop="wordCount" content="1105"><meta itemprop="image" content="https://engineering.cerner.com/images/alan-grace.png"/>
<meta itemprop="keywords" content="engineering," /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://engineering.cerner.com/images/alan-grace.png"/>

<meta name="twitter:title" content="Managing 30,000 Logging Events per Day with Splunk"/>
<meta name="twitter:description" content="Our team works on a patient facing web application with a thousand live clients with 2,315,000&#43; users. On an average, the high traffic results into more than 40,000 visits and 300,000 page views daily generating about 30,000 logging events. A considerable portion of these events are of information and warning level in order to aid proactive monitoring or identify potential issues due to clients‚Äô misconfiguration.
Before Splunk To handle this large volume of logging, our team created a rotational support role to manually monitor the logs at regular intervals daily."/>

</head>
<body>
    
<nav class="navbar navbar-expand-md navbar-light bg-light fixed-top shadow-sm" id="navbar-main-menu">
    <div class="container">
        <a class="navbar-brand" href="/"><img src="/logo.png" style='height: 40px;' /></a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div id="main-menu" class="collapse navbar-collapse" >
            <ul class="nav navbar-nav ml-auto">
                
                    <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/culture/">Culture</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/open-source/">Open Source</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/tech-talks/">Tech Talks</a></li>
                
                    <li class="nav-item"><a class="nav-link" href="/careers/">Careers</a></li>
                
            
            </ul>
            
            <div class="form-inline my-2 my-lg-0 searchbox">
    <input id="search-by" type="search" class="form-control mr-sm-2" placeholder="Search" aria-label="Search">
</div>

<script type="text/javascript" src="/js/lunr.min.js"></script>
<script type="text/javascript" src="/js/auto-complete.min.js"></script>
<script type="text/javascript">
    var baseurl =  "https:\/\/engineering.cerner.com";
</script>
<script type="text/javascript" src="/js/search.js"></script>
        </div>
    </div>
</nav>


    
<main class="content-page container pt-7 pb-5">
    
    <div class="row">
        <div class="col">
            <article class="article-content">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="meta text-muted mb-3">
                            <p class="created text-muted text-uppercase font-weight-bold mb-1">January 29, 2015</p>
                            <span class="mr-2"><i class="fas fa-book-open mr-2"></i>1105 words</span>
                            <span><i class="fas fa-clock mr-2"></i>6 mins read</span>
                        </div>

                        <h1>Managing 30,000 Logging Events per Day with Splunk</h1>

                        <ul class="authors list-inline">
        By: &nbsp;<li class="list-inline-item mr-3">
                    <div class="media author">
                            üë§&nbsp;<div class="media-body">
                            <h5 class="name my-0 "><a href="/authors/mike-hemesath/" class="small">Mike Hemesath</a>
                            </h5>
                        </div>
                    </div>
                </li><li class="list-inline-item mr-3">
                    <div class="media author">
                            üë§&nbsp;<div class="media-body">
                            <h5 class="name my-0 "><a href="/authors/rima-poddar/" class="small">Rima Poddar</a>
                            </h5>
                        </div>
                    </div>
                </li></ul>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="content">
                            <p>Our team works on a patient facing web application with a thousand live clients with 2,315,000+ users. On an average, the high traffic results into more than 40,000 visits and 300,000 page views daily generating about 30,000 logging events. A considerable portion of these events are of information and warning level in order to aid proactive monitoring or identify potential issues due to clients‚Äô misconfiguration.</p>
<h2 id="before-splunk">Before Splunk</h2>
<p>To handle this large volume of logging, our team created a rotational support role to manually monitor the logs at regular intervals daily. We built a custom log viewer that would aggregate application logs and the engineer on the support role was expected to watch this tool manually to identify issues. Although we were able to identify problems such as bad client builds or service errors, it was not very efficient nor accurate in quickly determining end user impact stats. Since there was no way to tag previously identified and resolved issues, often times newer support engineers lacked knowledge to react to a problem. This led to unnecessary escalation and engagement of next tier support.</p>
<p><strong>Below: Our old log aggregator used to identify the occurrences (2) of a log with the stack trace.</strong></p>
<div align="center">
    <figure class="figure">
        <a href="Log-Aggregator.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
            <img src="Log-Aggregator.png"class="figure-img img-fluid"
            /> 
        </a>
    </figure>
</div>
<h2 id="splunk-round-1">Splunk Round 1</h2>
<p>Once we migrated to Splunk we were very excited about the capabilities it offered, especially around searching and data visualization. In addition to searching logs more effectively, we were able to extract meaningful information from our logs unlike before. Splunk gave us the ability to identify client and end user impact down to the user id across all events in our logs [see image below]. This helped us gain more insight into our problems and trends in terms of impact to users. For a particular problem, we were able to quickly conclude whether all clients were affected, whether clients affected were over a virtual network only, and if the issue was isolated to a specific user. This information gave us the ability to determine the impact of issues coming into our logs, including the area of the site being impacted and frequency.</p>
<p><strong>Below: Once we extracted meaningful fields in our logs, we could identify impact. In this case, an issue is spread across 9 orgs and and 28 users.</strong></p>
<div align="center">
    <figure class="figure">
        <a href="Selected-Fields.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
            <img src="Selected-Fields.png"class="figure-img img-fluid"
            /> 
        </a>
    </figure>
</div>
<p>Although we had crossed some of the hurdles which made log monitoring difficult shortly after moving to Splunk, monitoring logs for issues was still not an easy job. It was possible to overlook issues since there was no effective way of studying trends. Initially, we created dashboards which helped identify organizations having problems. This was slightly useful but failed to depict more important graphical representation of the different types of occurring issues for a particular client or for all clients at a given time.</p>
<p><strong>Below: Reports like these weren&rsquo;t very helpful. Clients with more users tend to have more errors, so this trend doesn&rsquo;t necessarily indicate a client is experiencing a downtime.</strong></p>
<div align="center">
    <figure class="figure">
        <a href="Report-users.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
            <img src="Report-users.png"class="figure-img img-fluid"
            /> 
        </a>
    </figure>
</div>
<h2 id="splunk-round-2">Splunk Round 2</h2>
<p>It didn&rsquo;t take us long to realize that we had to get a better handle on our logs to stay on top of increasing traffic caused by a growing user base. Although we were able to identify frequently occurring errors, we still needed a more effective way to identify known issues, service issues, configuration issues and application issues. In order to do that, we needed something more meaningful than a stack trace to track issues.  We needed to tag events, and to do that, we turned to the eventtypes feature offered by Splunk.</p>
<p>Eventtypes are applied at search time and allow you to create events to tag search results with. Because they are applied at search time, we were able to add new event types and have them applied historically throughout our logs. This also gave us the ability to tweak our event types to add more known issues as we continued identifying them. Once we successfully gauged a way to take advantage of eventtypes, we came up with a query that created a stacked timechart of eventtypes where eventtypes represented known issues. Once we reached the improved level of production monitoring, the following had to be done:</p>
<ol>
<li>Create an eventtype with least priority that catches all problems and label it &ldquo;Unknown Issue.&rdquo;</li>
<li>Go through ‚ÄúUnknown Issues&quot; and create prioritized eventtypes that describe the problem in english. Once an issue is logged in our bug tracking system, tag the eventtype with that id for easy tracking.</li>
<li>Repeat daily.</li>
</ol>
<p><strong>Below: Eventtypes give us the ability to see known problems that happen over time. We can even see known problems broken down by client.</strong></p>
<div align="center">
    <figure class="figure">
        <a href="Eventtype-1.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
            <img src="Eventtype-1.png"class="figure-img img-fluid"
            /> 
        </a>
    </figure>
</div>
<div align="center">
    <figure class="figure">
        <a href="Eventtype-2.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
            <img src="Eventtype-2.png"class="figure-img img-fluid"
            /> 
        </a>
    </figure>
</div>
<p>Once we had our frequently occurring problems categorized, we were able to break it down even further. We could identify problems caused by configuration in our application layer, problems that required escalation or if client side contacts needed to be engaged.</p>
<p><strong>Below: We now have the ability to track impact to users from clients not taking a service package [left], or from improper Service Configuration [right].</strong></p>
<div align="center">
    <figure class="figure">
        <a href="Impact-to-users-from-clients-1.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
            <img src="Impact-to-users-from-clients-1.png"class="figure-img img-fluid"
            /> 
        </a>
    </figure>
</div>
<div align="center">
    <figure class="figure">
        <a href="Impact-to-users-from-clients-2.png" class="d-block" data-toggle="lightbox" data-gallery="post-gallery">
            <img src="Impact-to-users-from-clients-2.png"class="figure-img img-fluid"
            /> 
        </a>
    </figure>
</div>
<h3 id="alerting">Alerting</h3>
<p>We&rsquo;ve also started taking advantage of Splunk&rsquo;s alerting. With its powerful searching abilities, we have scheduled searches that trigger an alert when a particular condition is met. For example, when a client has misconfigured certain credentials that cause authentication errors all over the site, we can engage support immediately to get it resolved.</p>
<h2 id="whats-next">What&rsquo;s Next?</h2>
<p>Although we have a better understanding of our logs now, it can get even better. We plan on continually categorizing our logs so that monitoring our system becomes really simple for everyone. Once all of our known issues are categorized, we wish to have a scheduled search that can identify anomalies in the logs. This would be highly beneficial to find out if a release introduces issues.</p>
<p>Since our site is dependent on multiple services, most of the service problems are resolved by escalated support. We are currently working on identifying problems with known resolutions  along with  the people that need to be contacted to perform the resolution steps. Eventually we would like to send alerts/emails from Splunk to Cerner‚Äôs general support directly for these issues.</p>
<p>We also plan on integrating Jira into splunk with the help of the Splunk Jira app. This will give us the ability to not only track issues in our logs, but also view their current status (investigation, assigned, fixed, resolved). This closes the loop on finding new issues, tracking their impact, and finally their resolution until the end. Splunk has been extremely exciting to work on and has been an invaluable asset to our team. We&rsquo;d love to continue the conversations on how we can improve our usage of Splunk and how others are using it as well.</p>

                        </div><div class="tags my-3"><a class="badge badge-pill badge-light border mr-2" href="/tags/engineering">
                                    <i class="fas fa-tag mr-2"></i>engineering
                                </a></div><ul class="share nav my-3 justify-content-end">
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://twitter.com/intent/tweet?url=https%3a%2f%2fengineering.cerner.com%2fblog%2fmanaging-30000-logging-events-per-day-with-splunk%2f&text=Managing%2030%2c000%20Logging%20Events%20per%20Day%20with%20Splunk">
              <i class="fa-fw fab fa-twitter"></i>
          </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fengineering.cerner.com%2fblog%2fmanaging-30000-logging-events-per-day-with-splunk%2f&title=Managing%2030%2c000%20Logging%20Events%20per%20Day%20with%20Splunk">
                <i class="fa-fw fab fa-linkedin-in"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fengineering.cerner.com%2fblog%2fmanaging-30000-logging-events-per-day-with-splunk%2f&t=Managing%2030%2c000%20Logging%20Events%20per%20Day%20with%20Splunk">
                <i class="fa-fw fab fa-facebook-f"></i>
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" target="_blank" href="https://reddit.com/submit?url=https%3a%2f%2fengineering.cerner.com%2fblog%2fmanaging-30000-logging-events-per-day-with-splunk%2f&title=Managing%2030%2c000%20Logging%20Events%20per%20Day%20with%20Splunk">
                <i class="fa-fw fab fa-reddit-alien"></i>
            </a>
        </li>
    </nav>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        
                    </div>
                </div></article>
        </div>
    </div>

    <div class="related-content row mt-5 row-cols-1 row-cols-lg-3"><div class="col mb-3">
                <div class="card h-100">
    
    <a href="/blog/cerner-and-the-apache-software-foundation/" class="d-block"><img data-src="/blog/cerner-and-the-apache-software-foundation/asf-sponsorship-silver-logo_hu2eb046b3b5bed0960f6685a9ad844d22_52769_700x350_fill_q75_box_smart1.jpg" class="card-img-top mx-auto d-block" alt="Cerner and the Apache Software Foundation"><div class="card-body">
            <h4 class="card-title">Cerner and the Apache Software Foundation</h4>
            <p class="card-text text-muted text-uppercase">October 28, 2014</p>
            <div class="card-text">
                At the beginning of this year, we announced that Cerner became a bronze-level sponsor of the non-profit Apache Software Foundation (ASF). Many of the open source projects we use and contribute to are under the ASF umbrella, so supporting the mission and work of the ASF is important to us.
We‚Äôre happy to announce that Cerner has now increased our sponsorship of the ASF to become a silver-level sponsor. Open source continues to play an integral role in both our architecture and engineering culture.
            </div>
        </div>
    </a>
  </div>
            </div><div class="col mb-3">
                <div class="card h-100">
    
    <a href="/blog/closures-and-currying-in-javascript/" class="d-block"><img data-src="/blog/closures-and-currying-in-javascript/not_sure_if_hu97dbfb1fbb6f49a63a701f7b1634095b_22587_700x350_fill_q75_box_smart1.jpg" class="card-img-top mx-auto d-block" alt="Closures &amp; Currying in JavaScript"><div class="card-body">
            <h4 class="card-title">Closures &amp; Currying in JavaScript</h4>
            <p class="card-text text-muted text-uppercase">September 29, 2014</p>
            <div class="card-text">
                Preface I have been asked many times what closures are and how they work. There are many resources available to learn this concept, but they are not always clear to everyone. This has led me to put together my own approach to exchanging the information.
I will supply code samples. //&gt; denotes an output or return.
Before discussing closures, it is important to review how functions work in JavaScript.
Introduction to functions If a function does not have a return statement, it will implicitly return undefined, which brings us to the simplest functions.
            </div>
        </div>
    </a>
  </div>
            </div><div class="col mb-3">
                <div class="card h-100">
    
    <a href="/blog/intern-hackfest-2014/" class="d-block"><img data-src="/blog/intern-hackfest-2014/Leap_hu44851c692c41ed854d82d1734c49fc66_381729_700x350_fill_box_smart1_3.png" class="card-img-top mx-auto d-block" alt="Intern HackFest 2014"><div class="card-body">
            <h4 class="card-title">Intern HackFest 2014</h4>
            <p class="card-text text-muted text-uppercase">September 8, 2014</p>
            <div class="card-text">
                Ten teams of two to four Cerner interns competed in a week-long HackFest this summer, working to solve any problem they put their minds to. This competition cumulated in a presentation and judging of projects, with prizes of Raspberry Pi Kits for each member of the second place team and Leap Motions for each member of the winning team. From mobile apps, to machine learning algorithms, to drones‚Ä¶this year‚Äôs Summer Intern HackFest has been one for the books.
            </div>
        </div>
    </a>
  </div>
            </div></div>
</main>


    <footer class="footer text-center bg-dark py-6">
    <div class="container">
        <div class="row">
            <div class="col">
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="https://engineering.cerner.com/index.xml" rel="alternate" type="application/rss+xml" class="icons d-block">
                                    <span class="fa-stack fa-lg">
                                        <i class="fa fa-circle fa-stack-2x"></i>
                                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                                    </span>
                                </a></li><li class="list-inline-item">
                            <a href="https://github.com/cerner" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://www.instagram.com/cernercorporation/" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://www.linkedin.com/company/cerner-corporation" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fengineering.cerner.com%2F&amp;screen_name=CernerEng" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li><li class="list-inline-item">
                            <a href="https://www.youtube.com/user/cernereng?sub_confirmation=1" class="icons d-block">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-youtube fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                </ul>

                <p class="text-light">
                    
                        Copyright &copy; 2023
                    
                </p>

                <p class="text-light">
                Made with ‚ù§Ô∏è by Cerner engineers.
                </p>
            </div>
        </div>
    </div>
</footer>

    
    
        
            <script src="/dist/main.0f92af9103b4f0550a4b.min.js"></script>
        
    





</body>
</html>
